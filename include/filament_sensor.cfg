[filament_switch_sensor switch_sensor]
switch_pin: ^PG14
pause_on_runout: False
runout_gcode:
  PAUSE
  M117 Switch: Filament Runout
insert_gcode:
  M117 Switch: Filament Detected

[filament_motion_sensor encoder_sensor]
switch_pin: ^PG15
detection_length: 5 # accuracy of motion sensor 2.88mm
extruder: extruder
pause_on_runout: False
runout_gcode:
  PAUSE
  M117 Encoder: Filament Runout
insert_gcode:
  M117 Encoder: Filament Detected

[gcode_macro ENABLE_ENCODER_FILAMENT_SENSOR]
gcode:
  SET_FILAMENT_SENSOR SENSOR=encoder_sensor ENABLE=1

[gcode_macro DISABLE_ENCODER_FILAMENT_SENSOR]
gcode:
  SET_FILAMENT_SENSOR SENSOR=encoder_sensor ENABLE=0